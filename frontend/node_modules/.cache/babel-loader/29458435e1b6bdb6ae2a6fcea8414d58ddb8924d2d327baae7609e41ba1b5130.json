{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hioma\\\\Desktop\\\\MushCase-Project\\\\frontend\\\\src\\\\components\\\\Inventory.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport api from '../api/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Inventory = ({\n  user,\n  setUser\n}) => {\n  _s();\n  const [inventory, setInventory] = useState([]);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    fetchInventory();\n  }, []);\n  const fetchInventory = async () => {\n    try {\n      const response = await api.get('/users/inventory');\n      setInventory(response.data);\n      setLoading(false);\n    } catch (error) {\n      console.error('Ошибка загрузки инвентаря:', error);\n      setLoading(false);\n    }\n  };\n  const sellSkin = async (inventoryId, price) => {\n    try {\n      const response = await api.post(`/users/sell/${inventoryId}`);\n\n      // Обновляем баланс пользователя\n      setUser({\n        ...user,\n        balance: response.data.newBalance\n      });\n\n      // Удаляем предмет из инвентаря\n      setInventory(inventory.filter(item => item.id !== inventoryId));\n      alert(`Скин продан за ${price}₽!`);\n    } catch (error) {\n      var _error$response, _error$response$data;\n      alert(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'Ошибка продажи');\n    }\n  };\n  const getRarityColor = rarity => {\n    const colors = {\n      'Consumer Grade': '#b0c3d9',\n      'Industrial Grade': '#5e98d9',\n      'Mil-Spec': '#4b69ff',\n      'Restricted': '#8847ff',\n      'Classified': '#d32ce6',\n      'Covert': '#eb4b4b',\n      'Exceedingly Rare': '#ffd700'\n    };\n    return colors[rarity] || '#ffffff';\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading\",\n      children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430 \\u0438\\u043D\\u0432\\u0435\\u043D\\u0442\\u0430\\u0440\\u044F...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"inventory\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"section-title\",\n        children: \"\\u041C\\u043E\\u0439 \\u0438\\u043D\\u0432\\u0435\\u043D\\u0442\\u0430\\u0440\\u044C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), inventory.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"empty-inventory\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u0412\\u0430\\u0448 \\u0438\\u043D\\u0432\\u0435\\u043D\\u0442\\u0430\\u0440\\u044C \\u043F\\u0443\\u0441\\u0442\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u041E\\u0442\\u043A\\u0440\\u043E\\u0439\\u0442\\u0435 \\u043A\\u0435\\u0439\\u0441\\u044B, \\u0447\\u0442\\u043E\\u0431\\u044B \\u043F\\u043E\\u043B\\u0443\\u0447\\u0438\\u0442\\u044C \\u0441\\u043A\\u0438\\u043D\\u044B!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"inventory-grid\",\n        children: inventory.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"inventory-item\",\n          style: {\n            borderColor: getRarityColor(item.rarity)\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: item.image_url,\n            alt: item.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            children: item.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"item-price\",\n            children: [item.price, \"\\u20BD\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"rarity\",\n            style: {\n              color: getRarityColor(item.rarity)\n            },\n            children: item.rarity\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"sell-btn\",\n            onClick: () => sellSkin(item.id, item.price),\n            children: \"\\u041F\\u0440\\u043E\\u0434\\u0430\\u0442\\u044C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 17\n          }, this)]\n        }, item.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n};\n_s(Inventory, \"nif8nLt8MGsU1Y4XD3ceRV42Fwg=\");\n_c = Inventory;\nexport default Inventory;\nvar _c;\n$RefreshReg$(_c, \"Inventory\");","map":{"version":3,"names":["React","useState","useEffect","api","jsxDEV","_jsxDEV","Inventory","user","setUser","_s","inventory","setInventory","loading","setLoading","fetchInventory","response","get","data","error","console","sellSkin","inventoryId","price","post","balance","newBalance","filter","item","id","alert","_error$response","_error$response$data","message","getRarityColor","rarity","colors","className","children","fileName","_jsxFileName","lineNumber","columnNumber","length","map","style","borderColor","src","image_url","alt","name","color","onClick","_c","$RefreshReg$"],"sources":["C:/Users/hioma/Desktop/MushCase-Project/frontend/src/components/Inventory.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport api from '../api/api';\n\nconst Inventory = ({ user, setUser }) => {\n  const [inventory, setInventory] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    fetchInventory();\n  }, []);\n\n  const fetchInventory = async () => {\n    try {\n      const response = await api.get('/users/inventory');\n      setInventory(response.data);\n      setLoading(false);\n    } catch (error) {\n      console.error('Ошибка загрузки инвентаря:', error);\n      setLoading(false);\n    }\n  };\n\n  const sellSkin = async (inventoryId, price) => {\n    try {\n      const response = await api.post(`/users/sell/${inventoryId}`);\n      \n      // Обновляем баланс пользователя\n      setUser({ ...user, balance: response.data.newBalance });\n      \n      // Удаляем предмет из инвентаря\n      setInventory(inventory.filter(item => item.id !== inventoryId));\n      \n      alert(`Скин продан за ${price}₽!`);\n    } catch (error) {\n      alert(error.response?.data?.message || 'Ошибка продажи');\n    }\n  };\n\n  const getRarityColor = (rarity) => {\n    const colors = {\n      'Consumer Grade': '#b0c3d9',\n      'Industrial Grade': '#5e98d9',\n      'Mil-Spec': '#4b69ff',\n      'Restricted': '#8847ff',\n      'Classified': '#d32ce6',\n      'Covert': '#eb4b4b',\n      'Exceedingly Rare': '#ffd700'\n    };\n    return colors[rarity] || '#ffffff';\n  };\n\n  if (loading) {\n    return <div className=\"loading\">Загрузка инвентаря...</div>;\n  }\n\n  return (\n    <div className=\"inventory\">\n      <div className=\"container\">\n        <h2 className=\"section-title\">Мой инвентарь</h2>\n        \n        {inventory.length === 0 ? (\n          <div className=\"empty-inventory\">\n            <p>Ваш инвентарь пуст</p>\n            <p>Откройте кейсы, чтобы получить скины!</p>\n          </div>\n        ) : (\n          <div className=\"inventory-grid\">\n            {inventory.map(item => (\n              <div key={item.id} className=\"inventory-item\" style={{borderColor: getRarityColor(item.rarity)}}>\n                <img src={item.image_url} alt={item.name} />\n                <h4>{item.name}</h4>\n                <p className=\"item-price\">{item.price}₽</p>\n                <span className=\"rarity\" style={{color: getRarityColor(item.rarity)}}>{item.rarity}</span>\n                <button \n                  className=\"sell-btn\"\n                  onClick={() => sellSkin(item.id, item.price)}\n                >\n                  Продать\n                </button>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Inventory;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}